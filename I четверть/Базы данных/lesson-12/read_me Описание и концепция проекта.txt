В наше время такой институт, как книжная библиотека перестал быть необходим в широком смысле. Хотя еще сохраняет свои позиции в узко-специализированных областях.
Тем не менее один из книжный магазин LitRes решил организовать подобие библиотеки. Т.е в нем можно не только купить электронную версию книги, но и взять почитать на 2 недели. 
Естественно, для этого нужно выполнить некоторые условия. Например, обязательно записаться в любую московскую (возможно и в других городах тоже работает) библиотеку.
Завести аккаунт на сайте LitRes. А далее, можно либо покупать порнавившеиеся книги и читать на любых устройствах (смартфон, планшет, компьютер). Либо брать книги в библиотеке.
Правда количество одновременно выдаваемых экземпляров ограничено. И часто приходится ждать некоторое время.

Лично мне удалось приноровиться к данной системе. И я прочитал уже много книг бесплатно. Не тратя много сил, чтобы скачать их через торренты или пиратские сайты.
Особенно приятно, что на сайте LitRes очень много аудиокниг.

То, что книгу выдают на 2 недели, и существует очередь на выдачу, слегка дисциплинирует, и требует обязательного прочтения в заданных временных рамках. 
В наше время это дополнительно стимулирует к повышению "начитанности".

Правда, у меня, как у постоянного пользователя есть некоторые "вопросы" связанные с системой LitRes, которая постоянно предлагает мне "всякую фигню" для прочтения и покупки.
Понимаю, что цель сайта все-таки зарабатывать деньги на продаже книг, а не развитие публичной библиотеки для части людей. Поэтому не сильно по этому поводу переживаю.
Но, в рамках обучения на курсе "Базы данных" в GeekBrains хотел бы реализовать свою версию предлагаемых к прочтению и покупке книг. На основе истории прочтенных и оцененных книжек.

Для этого я реализовал свою версию базы данных "ЛитРес". Которая основана на анализе работы сайта и реализации моей идеи.

Моя идея: Каждый пользователь читает книги и ставит оценки (0-5). Система должна анализировать те книжные жанры, книги в которых я высоко оцениваю при прочтении. И предлагает 
мне книги тех же жанров, но высоко оцененные другими пользователями.

Состав базы данных:

users        - таблица идентификаторов пользователей. Будет использоваться во всех других таблицах.
accounts     - данные о пользователе, связанные с таблицей users, заполняемые сайтом. Это может быть рейтинг пользователя, его баланс, и прочая системная информация.
profiles     - данные о пользователе, связанные с таблицей users, заполняемые самими пользователями. Например Имя, Фамилия, возраст и т.д.

books                    - таблица книг. Основные данные. Наименование, год выпуска, ISBN.
authors                  - таблица авторов
authors_of_the_books     - связь авторов и книг. Т.к. у одной книги моежт быть несколько авторов.
publishing_houses        - издательский дом.
ganres                   - таблица жанров книг. Классификация сайта.
ganres_of_the_books      - связь жанров книг и самих книг.
books_series             - книжные серии.
books_in_series          - состав книжных серий.

books_on_hands           - выданные книги. Пользователь, книга, когда выдана, день, когда книгу вернут в библиотеку. 

individual_rating        - рейтинги книг, которые ставят пользователи после прочтения. Ну или ранее прочтенным книгам.

common_books_rating      - сводная таблица общих рейтингов и числа прочтений всех книг в библиотеке. Заполняется специальной процедурой fill_book_statistic().
common_users_rating      - сводная таблица общих рейтингов каждого пользователя. В разрезе жанров. В ней основная суть моей задумки. Заполняется специальной процедурой fill_user_statistic();

Представления

Recommened_books_for_user   - реализация моей задумки. У каждого пользователя выбираетя любимый жанр. В этом жанре выбираются все высокорейтинговые книги, которые данный пользователь не читал.
                              И все это выводится в виде таблицы. На мой взгляд было бы приятно видть высоко оцененные книги в любимых мною жанрах. 
Most_popular_books_for_user - еще одно представление, которое должно подсказать, какие книги пользователи высоко ценят.

В соответствии с задачей создан триггер Fill_borrow_date. Который автоматически заполняет дату выдачи книги. При появлении строки в таблице books_on_hands

Описание процесса заполнения данными:
Данные в таблицу пользователей заполнены на основании списка группы, которая вместе со мной проходила курс "Базы данных"
Классификатор жанров взят с сайта Litres.
Список книг и авторов заполнен на основании списка новых книг, взятого в одном из издательств.

Таблица выданных на руки книг сформирована случайным образом. Заполнено около 1000 выдач.
Таблица индивидуальных рейтингов, заполнена случайными данными.

Таблицы обобощенных рейтингов заполнены хранимыми процедурами. Которые специально для этого и созданы.


Помню, что на лекции просили сделать один файл создания и заполнения базы. Таким файлом является файл "lesson_12 (весь курсовой проект одним файлом).sql"
.sql

						  